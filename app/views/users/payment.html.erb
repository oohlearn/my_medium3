<div class="box">
  <article class="media">
    <div class="media-left">
      <figure class="image is-64x64">
        <img src="https://fakeimg.pl/128x128/?text=CCH" alt="Image">
      </figure>
    </div>
    <div class="media-content">
      <div class="content">
        <strong><%= @payment_type %> (USD <%= @fee %>)</span>
        <p>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean efficitur sit amet massa fringilla egestas. Nullam condimentum luctus turpis.
        </p>
      </div>
    </div>
  </article>
</div>

<script src="https://js.braintreegateway.com/web/dropin/1.42.0/js/dropin.min.js"></script>
<button id="submit-button">Request payment method</button>

<div id="dropin-container"></div>
      <!-- Step one: add an empty container to your page -->
<script type="text/javascript">
      document.addEventListener("DOMContentLoaded", functions(event){
        var button = document.querySelector("#submit-button");
        braintree.dropin.create({
          authorization: "<%= @token %>",
          container: document.getElementById('dropin-container')},
          function(createErr, instance){
            button.addEventListener("click", function(event){
              event.preventDefault()
              instance.requestPaymentMethod(function(err, payload){
              })
            })
          })
      })
</script>